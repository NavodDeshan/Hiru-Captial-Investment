{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import axios from'axios';import'./../css/AdminDashboard.css';// Ensure you have a CSS file for styling\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=()=>{const[admin,setAdmin]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const navigate=useNavigate();useEffect(()=>{const fetchAdminProfile=async()=>{try{const id=localStorage.getItem('id');const token=localStorage.getItem('token');if(!id||!token){setError('Admin ID or token not found. Redirecting to login...');setLoading(false);setTimeout(()=>navigate('/'),2000);// Redirect to login after 2 seconds\nreturn;}const response=await axios.get(\"http://localhost:5000/api/users/user/profile/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}});setAdmin(response.data);setLoading(false);}catch(err){console.error('Error fetching admin profile:',err);setError('Failed to fetch admin profile. Please try again later.');setLoading(false);}};fetchAdminProfile();},[navigate]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[\"Error: \",error]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-profile\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Profile\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Username:\"}),\" \",admin.username]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",admin.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Role:\"}),\" \",admin.role]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-actions\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/AddLoan\",className:\"admin-action\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus-circle\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Loan\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/AddCustomers\",className:\"admin-action\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-plus\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Customers\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/ViewAllCustomers\",className:\"admin-action\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users\"}),/*#__PURE__*/_jsx(\"span\",{children:\"View All Customers\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/ViewAllUsers\",className:\"admin-action\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-friends\"}),/*#__PURE__*/_jsx(\"span\",{children:\"View All Users\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/ViewAllLoans\",className:\"admin-action\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-invoice-dollar\"}),/*#__PURE__*/_jsx(\"span\",{children:\"View All Loans\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/AddPayment\",className:\"admin-action\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-money-check-alt\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Payment\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/ViewAllPayments\",className:\"admin-action\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-receipt\"}),/*#__PURE__*/_jsx(\"span\",{children:\"View All Payments\"})]})]})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","AdminDashboard","admin","setAdmin","loading","setLoading","error","setError","navigate","fetchAdminProfile","id","localStorage","getItem","token","setTimeout","response","get","concat","headers","Authorization","data","err","console","children","className","username","email","role","to"],"sources":["D:/hiru/Hiru-Captial-Investment/frontend/src/pages/AdminDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './../css/AdminDashboard.css'; // Ensure you have a CSS file for styling\r\n\r\nconst AdminDashboard = () => {\r\n  const [admin, setAdmin] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchAdminProfile = async () => {\r\n      try {\r\n        const id = localStorage.getItem('id');\r\n        const token = localStorage.getItem('token');\r\n\r\n        if (!id || !token) {\r\n          setError('Admin ID or token not found. Redirecting to login...');\r\n          setLoading(false);\r\n          setTimeout(() => navigate('/'), 2000); // Redirect to login after 2 seconds\r\n          return;\r\n        }\r\n\r\n        const response = await axios.get(`http://localhost:5000/api/users/user/profile/${id}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        setAdmin(response.data);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error('Error fetching admin profile:', err);\r\n        setError('Failed to fetch admin profile. Please try again later.');\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchAdminProfile();\r\n  }, [navigate]);\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error-message\">Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-dashboard\">\r\n      <h1>Admin Dashboard</h1>\r\n\r\n      {/* Admin Profile Section */}\r\n      <div className=\"admin-profile\">\r\n        <h2>Admin Profile</h2>\r\n        <p><strong>Username:</strong> {admin.username}</p>\r\n        <p><strong>Email:</strong> {admin.email}</p>\r\n        <p><strong>Role:</strong> {admin.role}</p>\r\n      </div>\r\n\r\n      {/* Admin Actions Section */}\r\n      <div className=\"admin-actions\">\r\n        <Link to=\"/AddLoan\" className=\"admin-action\">\r\n          <i className=\"fas fa-plus-circle\"></i>\r\n          <span>Add Loan</span>\r\n        </Link>\r\n        <Link to=\"/AddCustomers\" className=\"admin-action\">\r\n          <i className=\"fas fa-user-plus\"></i>\r\n          <span>Add Customers</span>\r\n        </Link>\r\n        <Link to=\"/ViewAllCustomers\" className=\"admin-action\">\r\n          <i className=\"fas fa-users\"></i>\r\n          <span>View All Customers</span>\r\n        </Link>\r\n        <Link to=\"/ViewAllUsers\" className=\"admin-action\">\r\n          <i className=\"fas fa-user-friends\"></i>\r\n          <span>View All Users</span>\r\n        </Link>\r\n        <Link to=\"/ViewAllLoans\" className=\"admin-action\">\r\n          <i className=\"fas fa-file-invoice-dollar\"></i>\r\n          <span>View All Loans</span>\r\n        </Link>\r\n        <Link to=\"/AddPayment\" className=\"admin-action\">\r\n          <i className=\"fas fa-money-check-alt\"></i>\r\n          <span>Add Payment</span>\r\n        </Link>\r\n        <Link to=\"/ViewAllPayments\" className=\"admin-action\">\r\n          <i className=\"fas fa-receipt\"></i>\r\n          <span>View All Payments</span>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,6BAA6B,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAe,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9BH,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACF,KAAM,CAAAC,EAAE,CAAGC,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC,CACrC,KAAM,CAAAC,KAAK,CAAGF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,GAAI,CAACF,EAAE,EAAI,CAACG,KAAK,CAAE,CACjBN,QAAQ,CAAC,sDAAsD,CAAC,CAChEF,UAAU,CAAC,KAAK,CAAC,CACjBS,UAAU,CAAC,IAAMN,QAAQ,CAAC,GAAG,CAAC,CAAE,IAAI,CAAC,CAAE;AACvC,OACF,CAEA,KAAM,CAAAO,QAAQ,CAAG,KAAM,CAAAnB,KAAK,CAACoB,GAAG,iDAAAC,MAAA,CAAiDP,EAAE,EAAI,CACrFQ,OAAO,CAAE,CACPC,aAAa,WAAAF,MAAA,CAAYJ,KAAK,CAChC,CACF,CAAC,CAAC,CAEFV,QAAQ,CAACY,QAAQ,CAACK,IAAI,CAAC,CACvBf,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAOgB,GAAG,CAAE,CACZC,OAAO,CAAChB,KAAK,CAAC,+BAA+B,CAAEe,GAAG,CAAC,CACnDd,QAAQ,CAAC,wDAAwD,CAAC,CAClEF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDI,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,CAACD,QAAQ,CAAC,CAAC,CAEd,GAAIJ,OAAO,CAAE,CACX,mBAAON,IAAA,QAAAyB,QAAA,CAAK,YAAU,CAAK,CAAC,CAC9B,CAEA,GAAIjB,KAAK,CAAE,CACT,mBAAON,KAAA,QAAKwB,SAAS,CAAC,eAAe,CAAAD,QAAA,EAAC,SAAO,CAACjB,KAAK,EAAM,CAAC,CAC5D,CAEA,mBACEN,KAAA,QAAKwB,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9BzB,IAAA,OAAAyB,QAAA,CAAI,iBAAe,CAAI,CAAC,cAGxBvB,KAAA,QAAKwB,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5BzB,IAAA,OAAAyB,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBvB,KAAA,MAAAuB,QAAA,eAAGzB,IAAA,WAAAyB,QAAA,CAAQ,WAAS,CAAQ,CAAC,IAAC,CAACrB,KAAK,CAACuB,QAAQ,EAAI,CAAC,cAClDzB,KAAA,MAAAuB,QAAA,eAAGzB,IAAA,WAAAyB,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAACrB,KAAK,CAACwB,KAAK,EAAI,CAAC,cAC5C1B,KAAA,MAAAuB,QAAA,eAAGzB,IAAA,WAAAyB,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAACrB,KAAK,CAACyB,IAAI,EAAI,CAAC,EACvC,CAAC,cAGN3B,KAAA,QAAKwB,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5BvB,KAAA,CAACN,IAAI,EAACkC,EAAE,CAAC,UAAU,CAACJ,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC1CzB,IAAA,MAAG0B,SAAS,CAAC,oBAAoB,CAAI,CAAC,cACtC1B,IAAA,SAAAyB,QAAA,CAAM,UAAQ,CAAM,CAAC,EACjB,CAAC,cACPvB,KAAA,CAACN,IAAI,EAACkC,EAAE,CAAC,eAAe,CAACJ,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC/CzB,IAAA,MAAG0B,SAAS,CAAC,kBAAkB,CAAI,CAAC,cACpC1B,IAAA,SAAAyB,QAAA,CAAM,eAAa,CAAM,CAAC,EACtB,CAAC,cACPvB,KAAA,CAACN,IAAI,EAACkC,EAAE,CAAC,mBAAmB,CAACJ,SAAS,CAAC,cAAc,CAAAD,QAAA,eACnDzB,IAAA,MAAG0B,SAAS,CAAC,cAAc,CAAI,CAAC,cAChC1B,IAAA,SAAAyB,QAAA,CAAM,oBAAkB,CAAM,CAAC,EAC3B,CAAC,cACPvB,KAAA,CAACN,IAAI,EAACkC,EAAE,CAAC,eAAe,CAACJ,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC/CzB,IAAA,MAAG0B,SAAS,CAAC,qBAAqB,CAAI,CAAC,cACvC1B,IAAA,SAAAyB,QAAA,CAAM,gBAAc,CAAM,CAAC,EACvB,CAAC,cACPvB,KAAA,CAACN,IAAI,EAACkC,EAAE,CAAC,eAAe,CAACJ,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC/CzB,IAAA,MAAG0B,SAAS,CAAC,4BAA4B,CAAI,CAAC,cAC9C1B,IAAA,SAAAyB,QAAA,CAAM,gBAAc,CAAM,CAAC,EACvB,CAAC,cACPvB,KAAA,CAACN,IAAI,EAACkC,EAAE,CAAC,aAAa,CAACJ,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC7CzB,IAAA,MAAG0B,SAAS,CAAC,wBAAwB,CAAI,CAAC,cAC1C1B,IAAA,SAAAyB,QAAA,CAAM,aAAW,CAAM,CAAC,EACpB,CAAC,cACPvB,KAAA,CAACN,IAAI,EAACkC,EAAE,CAAC,kBAAkB,CAACJ,SAAS,CAAC,cAAc,CAAAD,QAAA,eAClDzB,IAAA,MAAG0B,SAAS,CAAC,gBAAgB,CAAI,CAAC,cAClC1B,IAAA,SAAAyB,QAAA,CAAM,mBAAiB,CAAM,CAAC,EAC1B,CAAC,EACJ,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}